<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Optimized Audio Fluid Simulation</title>
    <link rel="stylesheet" href="input.css">
    <style>
        canvas {
            display: block;
            position: absolute;
            top: 0;
            left: 0;
            z-index: 1;
        }
        
        .performance-panel {
            position: absolute;
            bottom: 10px;
            left: 10px;
            background: rgba(0, 0, 0, 0.8);
            color: white;
            padding: 10px;
            border-radius: 5px;
            font-family: monospace;
            font-size: 12px;
            z-index: 5;
        }
        
        .optimization-controls {
            position: absolute;
            top: 10px;
            right: 60px;
            background: rgba(0, 0, 0, 0.8);
            color: white;
            padding: 10px;
            border-radius: 5px;
            z-index: 5;
        }
    </style>
</head>
<body>
    <canvas id="fluidCanvas"></canvas>
    
    <!-- Performance Monitoring Panel -->
    <div class="performance-panel" id="performancePanel">
        <div>FPS: <span id="fps">0</span></div>
        <div>Frame Time: <span id="frameTime">0</span>ms</div>
        <div>GPU Memory: <span id="gpuMemory">0</span>MB</div>
        <div>Particles: <span id="particleCount">0</span></div>
        <div>Audio Latency: <span id="audioLatency">0</span>ms</div>
        <div>CPU Usage: <span id="cpuUsage">0</span>%</div>
    </div>
    
    <!-- Optimization Controls -->
    <div class="optimization-controls">
        <label>Quality: <select id="qualitySelect">
            <option value="low">Low (60fps)</option>
            <option value="medium" selected>Medium (120fps)</option>
            <option value="high">High (144fps)</option>
            <option value="ultra">Ultra (240fps)</option>
        </select></label>
        <br>
        <label><input type="checkbox" id="adaptiveQuality" checked> Adaptive Quality</label>
        <br>
        <label><input type="checkbox" id="gpuAcceleration" checked> GPU Acceleration</label>
        <br>
        <label><input type="checkbox" id="multiThreading" checked> Multi-threading</label>
    </div>
    
    <!-- Main Controls Panel -->
    <div class="controls-panel" id="controlsPanel">
        <div class="scenes">
            <button class="button" onclick="fluidSim.setScene('default')">Default</button>
            <button class="button" onclick="fluidSim.setScene('vortex')">Vortex</button>
            <button class="button" onclick="fluidSim.setScene('wave')">Wave</button>
            <button class="button" onclick="fluidSim.setScene('spiral')">Spiral</button>
        </div>
        
        <div class="options">
            <div class="toggle-wrapper">
                <input type="checkbox" id="audioToggle" class="toggle-switch" checked>
                <label for="audioToggle" class="toggle-label"></label>
                <span>Audio</span>
            </div>
            
            <div class="toggle-wrapper">
                <input type="checkbox" id="particlesToggle" class="toggle-switch" checked>
                <label for="particlesToggle" class="toggle-label"></label>
                <span>Particles</span>
            </div>
            
            <div class="toggle-wrapper">
                <input type="checkbox" id="trailsToggle" class="toggle-switch">
                <label for="trailsToggle" class="toggle-label"></label>
                <span>Trails</span>
            </div>
        </div>
        
        <div class="vortex-controls">
            <label>Viscosity: <input type="range" class="slider" id="viscositySlider" min="0" max="100" value="50"></label>
            <label>Density: <input type="range" class="slider" id="densitySlider" min="0" max="100" value="30"></label>
            <label>Speed: <input type="range" class="slider" id="speedSlider" min="0" max="100" value="70"></label>
        </div>
    </div>
    
    <button class="controls-toggle" id="controlsToggle">âš™</button>
    
    <div class="audio-indicator" id="audioIndicator">
        <div class="wave"></div>
        ðŸŽµ
    </div>
    
    <div class="loading-indicator pulse" id="loadingIndicator">
        <div>Initializing Optimized Simulation...</div>
    </div>

    <script type="module" src="js/main.js"></script>
</body>
</html>